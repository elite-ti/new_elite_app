<%= title 'Pré-Disponibilidade 2014' %>

<%= simple_form_for(@teacher, url: schedule_info_path(@teacher)) do |f| %>
  <%= f.error_notification %>

  <div class='form-inputs'>
    <p>Quais são os segmentos de sua preferência?</p>
    <table id='product_group_preferences'>
      <colgroup span='1'></colgroup>
      <tr>
        <th></th>
        <th>Gosto</th>
        <th>Posso dar aula</th>
        <th>Não dou aula</th>
        <% if @teacher.errors.any? %>
          <th></th>
        <% end %>
      </tr>
      <%= f.simple_fields_for :product_group_preferences do |builder| %>
          <%= builder.input :preference, 
            wrapper: :table_wrapper, 
            collection: 1..3, 
            as: :radio_buttons, 
            label: builder.object.product_group.name,
            boolean_style: :inline, 
            item_wrapper_tag: :td,
            wrapper_tag: :tr %>
          <%= builder.hidden_field :product_group_id %>
      <% end %>
    </table>

    <p>Escolha quais são as Unidades de sua preferência.</p>
    <%= f.association :preferred_campuses, label: 'Unidade',
      wrapper_html: { id: 'campus_preferences' } %>

    <p>Marque a seguir a sua disponibilidade para o ano de 2014.</p>
    <% translation = {morning: 'Manhã (7h -  12h30)', afternoon: 'Tarde (13h30 -  19h)', evening: 'Noite (19h -  22h40)', 'Monday' => 'Segunda', 'Tuesday' => 'Terça', 'Wednesday' => 'Quarta', 'Thursday' => 'Quinta', 'Friday' => 'Sexta', 'Saturday' => 'Sábado'} %>
    <table id='timetable_preferences'>
      <colgroup span='1'></colgroup>
        <tr>
        <th></th>        
        <% Date::DAYNAMES[1..-1].each do |day_of_week| %>
          <th><%= translation[day_of_week] %></th>
        <% end %>
      </tr>
      <% [:morning, :afternoon, :evening].each do |shift| %>
        <tr>
          <td><p><%= translation[shift] %></p></td>
          <% Date::DAYNAMES[1..-1].each do |day_of_week| %>
            <td><%= f.input (day_of_week.downcase + '_' + shift.to_s), as: :boolean, label: '', input_html: { class: 'squaredThree' }, label_html: {style: 'margin-left=45px'} %></td>
          <% end %>
        </tr>        
      <% end %> 
    </table>

    <br/>
    <%= f.input :administrative_job, :as => :radio_buttons,
      collection: [['Sim', true], ['Não', false]], label: 'Você tem interesse em Cargos Adminstrativos?', 
      wrapper_html: { id: 'administrative_job_wrapper' } %>
  </div>
  <br/>

  <div class='form-actions'>
    <table>
      <tr>
        <th><%= f.submit 'Enviar informações' %></th>
        <td>
          <%= f.input :agree_with_terms, wrapper_html: { id: 'agree_with_terms_wrapper' },
            label: 'Declaro concordar com as informações fornecidas cadastradas, tendo ciência de que a Instituição se reserva ao direito de não atender às expectativas fornecidas.' %>
        </td>
      </tr>
    </table>
  </div>
<% end %>

