<%= title 'Edit Student Exam' %>

<%= simple_form_for(@student_exam, html: { multipart: true }) do |f| %>
  <%= f.error_notification %>

  <div class='form-inputs'>
    <% if @student_exam.no_student? %>
      <h2>Student was not found</h2>
      <%= image_tag @student_exam.student_name_png_url %>
      <%= f.association :student, :collection => @student_exam.possible_students, 
        input_html: { class: 'is-chosen' } %>
    <% end %>

    <% if @student_exam.any_answer_needs_check? %>
      <h2>Some answers were zero or wrong</h2>
      <%= f.fields_for :exam_answers, @student_exam.answers_needing_check do |exam_fields| %>
        <%= image_tag exam_fields.object.png_url %>
        <div class='radio-buttons'>
          <%= exam_fields.collection_radio_buttons :answer, 
            ExamAnswer::ANSWERS.map{|x| [x, x]}, :first, :last %>
          <%= exam_fields.hidden_field :needs_check, value: false %>
        </div>
      <% end %>
    <% end %>
  </div>

  <div class="form-actions">
    <%= f.button :submit %>
  </div>
<% end %>