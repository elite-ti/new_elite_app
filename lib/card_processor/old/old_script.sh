#!/bin/bash

echo "=> Removing card_reader"
rm card_reader

echo "=> Compiling program"
gcc -o card_reader card_reader.c -ltiff

echo "=> Running program"
cat old_input | ./card_reader


# result=`cat old_input | ./card_reader`

# expected=cat <<EOF
# 13122012165439_0001.tif CECECDDDDDDDDDDDWECBABCDECWCDCWECDCDBECD
# 13122012165439_0002.tif CCCCCCCCCEEEEEEEEEEEABABABABABABABABABAB
# 13122012165439_0003.tif CCCCCCCCCCCCCCCCCCCCEEEEEEEEWCCCCWEDCDCC
# 13122012165439_0004.tif BCDEBCDEDCBABCDEDCBACCCCCCCCCCCCCCCEDCBA
# 13122012165439_0005.tif EEEEBBBBZZDDDDDBBBBBCCCCCCCCCCCCCCCEDCBA
# 13122012165439_0006.tif CDCEDDCECECEBDBDBDCEDZCDCDZCDCDCDZCEZCDE
# 13122012165439_0007.tif CEEEEEEDDEZZBCZDCECEDZCZDZCEDEDEDEDECDDE
# 13122012165439_0008.tif ABCDEDCBABCDEDCBABCDABCDEDCBABCDEDCBABCD
# 13122012165439_0009.tif ABCDEEDDDDCCCCCCCCCCABCDDDDDDDZDEDEDEDED
# 13122012165439_0010.tif ABCDEDDDDDDDDDDDDDDDEDCBABCDEDCBBBBBBBBB
# 13122012165439_0011.tif ABCDEDCBABBBBABCDWBAZABCDEABCDEDCBCWCBCD
# EOF

# echo $expected

# if ["$result" == "$expected"]
# then
#   echo "OK"
# else
#   echo "Error"
# fi